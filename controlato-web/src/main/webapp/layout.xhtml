<?xml version='1.0' encoding='UTF-8' ?>
<!-- /* Controlato is a web-based service conceived and designed to assist families
 * on the control of their daily lives.
 * Copyright (C) 2012 Controlato.org
 *
 * Controlato is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * Controlato is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.

 * You should have received a copy of the GNU Affero General Public License
 * along with Controlato. Look for the file LICENSE.txt at the root level.
 * If you do not, see http://www.gnu.org/licenses/.
 * */-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">
    <f:view locale="#{userProfileMBean.language}">
	    <h:head>
	        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	        <link href="#{request.contextPath}/resources/css/custom_theme.css" rel="stylesheet" type="text/css" />
	        <link rel="icon" href="#{request.contextPath}/images/favicon.png" />
	        <title>#{bundle.application} - <ui:insert name="title">Title</ui:insert></title>
	        <script src="#{request.contextPath}/scripts/main.js" type="text/javascript"></script>
	    </h:head>

	    <h:body>
	        <div id="top">
	            <table width="100%">
	                <tr>
	                    <td align="left">
	                        <div class="title"><h:link outcome="/index"><p:graphicImage value="/images/logo.png" style="border: 0px"/></h:link></div>
	                    </td>
	                    <td align="right"><h:form>
	                        <div class="identification"><c:if test="#{empty request.remoteUser}">
	                            <h:commandLink action="#{securityBackingMBean.login}" value="#{bundle.signIn}" style="color: white"/>
	                            <h:link outcome="registration" style="color: white">#{bundle.register}</h:link>
	                        </c:if>
	                        <c:if test="#{! empty request.remoteUser}">
	                            <h:commandLink action="#{securityBackingMBean.logout}" value="#{bundle.signOut}" style="color: white"/>
	                        </c:if></div></h:form>
	                    </td>
	                </tr>
	            </table>
	        </div>
	        <c:if test="#{! empty request.remoteUser}">
	            <div id="top_menu">
	                <h:form>
	                    <p:menubar autoDisplay="false">
	                        <p:submenu label="#{bundle.finance}">
	                            <p:menuitem value="#{bundle.expenditures}" url="/finance/expenditures.xhtml"/>
                                    <p:menuitem value="#{bundle.revenues}" url="/finance/revenues.xhtml"/>
                                    <p:menuitem value="#{bundle.transfers}" url="/finance/transfers.xhtml"/>
                                    <p:menuitem value="#{bundle.transactions}" url="/finance/transactions.xhtml"/>
                                    <p:separator />
                                    <p:menuitem value="#{bundle.accounts}" url="/finance/accounts.xhtml"/>
                                    <p:menuitem value="#{bundle.categories}" url="/finance/categories.xhtml"/>
                                    <p:menuitem value="#{bundle.places}" url="/finance/places.xhtml"/>
	                        </p:submenu>
                                <p:submenu label="#{bundle.myAccount}">
	                            <p:menuitem value="#{bundle.profile}" url="/user/profile.xhtml"/>
	                            <p:menuitem value="#{bundle.changePassword}" url="/user/change_password.xhtml"/>
	                        </p:submenu>
	                        <c:if test="#{securityBackingMBean.isUserLeader}">
	                            <p:submenu label="#{bundle.administration}">
	                                <p:menuitem value="#{bundle.users}" url="/admin/users.xhtml"/>
	                                <p:menuitem value="#{bundle.groups}" url="/admin/groups.xhtml"/>
	                                <p:menuitem value="#{bundle.languages}" url="/admin/languages.xhtml"/>
	                                <p:submenu label="#{bundle.messages}">
	                                    <p:menuitem value="#{bundle.templates}" url="/admin/message_templates.xhtml"/>
	                                </p:submenu>
	                                <p:menuitem value="#{bundle.properties}" url="/admin/properties.xhtml"/>
	                            </p:submenu>
	                        </c:if>
	                    </p:menubar>
	                </h:form>
	            </div>
	        </c:if>
	        <div id="content_area">
	            <ui:insert name="content">Content</ui:insert>
	        </div>
	        <div id="bottom">
	            <div class="footer">
                        <table width="100%">
	                    <tr>
	                        <td>Copyright Controlato.com | Version 0.18</td>
	                        <td>
	                            <h:form>
                                        <p:spacer width="10"/> <b><h:outputText value="#{bundle.languages}"/></b>:
                                        <h:commandLink action="#{userProfileMBean.changeLanguage('en')}">
                                            <h:outputText value="#{bundle.english}" escape="false"/>
                                        </h:commandLink> |
                                        <h:commandLink action="#{userProfileMBean.changeLanguage('pt')}">
                                            <h:outputText value="#{bundle.portuguese}" escape="false"/>
                                        </h:commandLink>
                                    </h:form>
	                        </td>
                                <td>
                                    <!-- Place this tag where you want the +1 button to render. -->
                                    <div class="g-plusone" data-annotation="inline" data-width="300"></div>

                                    <!-- Place this tag after the last +1 button tag. -->
                                    <script type="text/javascript">
                                      (function() {
                                        var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
                                        po.src = 'https://apis.google.com/js/plusone.js';
                                        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
                                      })();
                                    </script>
                                </td>
	                    </tr>
	                </table>
	            </div>
	        </div>

                <script type="text/javascript">
                    var _gaq = _gaq || [];
                    _gaq.push(['_setAccount', 'UA-2938015-9']);
                    _gaq.push(['_setDomainName', 'controlato.com']);
                    _gaq.push(['_setAllowLinker', true]);
                    _gaq.push(['_trackPageview']);

                    (function() {
                      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
                    })();
                </script>
	    </h:body>
	</f:view>
</html>